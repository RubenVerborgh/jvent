(function(a){function e(){var a={},b=10;this.addListener=this.on=function(c,d,e){if(c===undefined){throw new Error('jvent - "addListener(event, listener)": It should receive an event.')}if(d===undefined){throw new Error('jvent - "addListener(event, listener)": It should receive a listener function.')}d.once=e||false;if(a[c]===undefined){a[c]=[]}if(a[c].length+1>b&&b!==0){throw new Error("Warning: So many listeners for an event.")}a[c].push(d);this.emit("newListener");return this};this.once=function(a,b){this.on(a,b,true);return this};this.removeListener=this.off=function(b,c){if(b===undefined){throw new Error('jvent - "removeListener(event, listener)": It should receive an event.')}if(c===undefined){throw new Error('jvent - "removeListener(event, listener)": It should receive a listener function.')}var e=a[b],f=0,g;if(d(e)){g=e.length;for(f;f<g;f+=1){if(e[f]===c){e.splice(f,1);break}}}return this};this.removeAllListeners=function(b){if(b===undefined){throw new Error('jvent - "removeAllListeners(event)": It should receive an event.')}delete a[b];return this};this.setMaxListeners=function(a){if(isNaN(a)){throw new Error('jvent - "setMaxListeners(n)": It should receive a number.')}b=a;return this};this.listeners=function(b){if(b===undefined){throw new Error('jvent - "listeners(event)": It should receive an event.')}if(a[b]===undefined){throw new Error('jvent - "listeners(event)": The event must exist into the collection.')}return a[b]};this.emit=function(){var b=arguments,c=b[0],e,f,g;if(c===undefined){throw new Error('jvent - "emit(event)": It should receive an event.')}if(typeof c==="string"){c={type:c}}if(!c.target){c.target=this}if(d(a[c.type])){e=a[c.type];f=0;g=e.length;for(f;f<g;f+=1){e[f].apply(this,arguments);if(e[f].once){this.off(c.type,e[f]);g-=1;f-=1}}}return this};return this}"use strict";var b=a.Object,c=a.Array,d=function(){if(typeof c.isArray==="function"){return c.isArray}return function(a){return b.prototype.toString.call(a)==="[object Array]"}}();a.jvent=a.EventEmitter=e})(this)