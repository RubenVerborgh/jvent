(function(e){"use strict";function i(){return this.collection={},this.maxListeners=10,this}var t=e.Object,n=e.Array,r=function(){return typeof n.isArray=="function"?n.isArray:function(e){return t.prototype.toString.call(e)==="[object Array]"}}();i.prototype.addListener=function(e,t,n){if(e===undefined)throw new Error('jvent - "addListener(event, listener)": It should receive an event.');if(t===undefined)throw new Error('jvent - "addListener(event, listener)": It should receive a listener function.');var r=this.collection;t.once=n||!1,r[e]===undefined&&(r[e]=[]);if(r[e].length+1>this.maxListeners&&this.maxListeners!==0)throw new Error("Warning: So many listeners for an event.");return r[e].push(t),this.emit("newListener"),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){return this.on(e,t,!0),this},i.prototype.removeListener=function(e,t){if(e===undefined)throw new Error('jvent - "removeListener(event, listener)": It should receive an event.');if(t===undefined)throw new Error('jvent - "removeListener(event, listener)": It should receive a listener function.');var n=this.collection[e],i=0,s;if(r(n)){s=n.length;for(i;i<s;i+=1)if(n[i]===t){n.splice(i,1);break}}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){if(e===undefined)throw new Error('jvent - "removeAllListeners(event)": It should receive an event.');return delete this.collection[e],this},i.prototype.setMaxListeners=function(e){if(isNaN(e))throw new Error('jvent - "setMaxListeners(n)": It should receive a number.');return this.maxListeners=e,this},i.prototype.listeners=function(e){if(e===undefined)throw new Error('jvent - "listeners(event)": It should receive an event.');if(this.collection[e]===undefined)throw new Error('jvent - "listeners(event)": The event must exist into the collection.');return this.collection[e]},i.prototype.emit=function(){var e=arguments,t=e[0],n,i,s;if(t===undefined)throw new Error('jvent - "emit(event)": It should receive an event.');typeof t=="string"&&(t={type:t}),t.target||(t.target=this);if(r(this.collection[t.type])){n=this.collection[t.type].slice(),i=0,s=n.length;for(i;i<s;i+=1)n[i].apply(this,arguments),n[i].once&&(this.off(t.type,n[i]),s-=1,i-=1)}return this},e.jvent=e.EventEmitter=i})(this);