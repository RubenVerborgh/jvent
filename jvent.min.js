(function(a){"use strict";var b=function(){var a={},b=10;this.addListener=this.on=function(c,d){if(a[c]===undefined){a[c]=[]}if(a[c].length+1>b){throw"Warning: So many listeners for an event."}a[c].push(d);if(c!=="newListener"){this.emit("newListener")}return this};this.once=function(a,b){var c=function(a,d){b.call(this,a,d);this.off(a.type,c)};this.on(a,c);return this};this.removeListener=this.off=function(b,c){if(a[b]instanceof Array){if(c){var d=a[b],e=0,f=d.length;for(e;e<f;e+=1){if(d[e]===c){d.splice(e,1);break}}}}return this};this.removeAllListeners=function(b){delete a[b];return this};this.setMaxListeners=function(a){b=a;return this};this.listeners=function(b){return a[b]};this.emit=function(){var b=arguments,c=b[0],d,e,f;if(typeof c==="string"){c={type:c}}if(!c.target){c.target=this}if(!c.type){throw new Error('Event object missing "type" property.')}if(a[c.type]instanceof Array){d=a[c.type];e=0;f=d.length;for(e;e<f;e+=1){d[e].apply(this,arguments)}}return this};return this};a.jvent=a.EventEmitter=b})(this)