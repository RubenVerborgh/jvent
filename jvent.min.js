(function(a){function e(){this.collection={};this.maxListeners=10;return this}"use strict";var b=a.Object,c=a.Array,d=function(){if(typeof c.isArray==="function"){return c.isArray}return function(a){return b.prototype.toString.call(a)==="[object Array]"}}();e.prototype.addListener=function(a,b,c){if(a===undefined){throw new Error('jvent - "addListener(event, listener)": It should receive an event.')}if(b===undefined){throw new Error('jvent - "addListener(event, listener)": It should receive a listener function.')}var d=this.collection;b.once=c||false;if(d[a]===undefined){d[a]=[]}if(d[a].length+1>this.maxListeners&&this.maxListeners!==0){throw new Error("Warning: So many listeners for an event.")}d[a].push(b);this.emit("newListener");return this};e.prototype.on=e.prototype.addListener;e.prototype.once=function(a,b){this.on(a,b,true);return this};e.prototype.removeListener=function(a,b){if(a===undefined){throw new Error('jvent - "removeListener(event, listener)": It should receive an event.')}if(b===undefined){throw new Error('jvent - "removeListener(event, listener)": It should receive a listener function.')}var c=this.collection[a],e=0,f;if(d(c)){f=c.length;for(e;e<f;e+=1){if(c[e]===b){c.splice(e,1);break}}}return this};e.prototype.off=e.prototype.removeListener;e.prototype.removeAllListeners=function(a){if(a===undefined){throw new Error('jvent - "removeAllListeners(event)": It should receive an event.')}delete this.collection[a];return this};e.prototype.setMaxListeners=function(a){if(isNaN(a)){throw new Error('jvent - "setMaxListeners(n)": It should receive a number.')}this.maxListeners=a;return this};e.prototype.listeners=function(a){if(a===undefined){throw new Error('jvent - "listeners(event)": It should receive an event.')}if(this.collection[a]===undefined){throw new Error('jvent - "listeners(event)": The event must exist into the collection.')}return this.collection[a]};e.prototype.emit=function(){var a=arguments,b=a[0],c,e,f;if(b===undefined){throw new Error('jvent - "emit(event)": It should receive an event.')}if(typeof b==="string"){b={type:b}}if(!b.target){b.target=this}if(d(this.collection[b.type])){c=this.collection[b.type];e=0;f=c.length;for(e;e<f;e+=1){c[e].apply(this,arguments);if(c[e].once){this.off(b.type,c[e]);f-=1;e-=1}}}return this};a.jvent=a.EventEmitter=e})(this)